{% extends "base.html" %}
{% block body %}
    <div class="container pt-3">
        <h2>
            <i class="bi-flag" style="color: mediumseagreen"></i>
            Congratulations!
            <i class="bi-flag" style="color: mediumseagreen"></i>
        </h2>
        Your training for this mission is complete for now. Check back later for more training
        questions or
        <a href="{{ url_for('user_views.missions_overview', course_name=course_name) }}">check
            for other missions to train for</a>.

        <div class="row row-cols-2">
            <div class="col">
                <br>
                {% set incorrect = breakdown_today[0].count() %}
                {% set easy = breakdown_today[1].count() %}
                {% set mid = breakdown_today[2].count() %}
                {% set hard = breakdown_today[3].count() %}
                <div id="test" style="width:600px;height:250px;"></div>
            </div>

            <div class="col">
                <br>
                <h4 class="text-center">Objectives to Work On</h4> 
                
                {% for lo in topics_to_review %}
                    {% set learning_objective = lo %}
                    <h6 class="text-left" ><i class="bi bi-star-fill"  style="color: black">   {{learning_objective.description}}</i></h6>
                {% endfor %}  
                </br> 
            </div>

        </div>

    </div>

    <script src="https://cdn.plot.ly/plotly-2.12.1.min.js"></script>
    <script>
        var data = [{
            type: "pie",
            values: [{{incorrect}}, {{easy}}, {{mid}}, {{hard}}],
            labels: ["Incorrect Questions", "Correct and Easy", "Correct and Medium Difficulty", "Correct and Difficult"],
            //marker: {
                //colors: ["rgb(215,25,28)","rgb(26,150,65)","rgb(166,217,106)","rgb(255,255,191)"]
            //}
            textinfo: "label+percent",
            textposition: "outside",
            automargin: true
        }]
        
        var layout = {
            height: 400,
            width: 400,
            margin: {"t": 0, "b": 0, "l": 0, "r": 0},
            showlegend: false
            }
        
        Plotly.newPlot('test', data, layout)
    </script>

{% endblock %}
