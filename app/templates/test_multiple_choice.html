{% extends "base.html" %}
{% import 'forms.html' as forms %}

{% block body %}
    <div class="container pt-3">
		{% if preview_mode %}
			<div class="text-danger row mb-3">
				<strong><i class="bi-eye-fill"></i> Question Preview</strong>
			</div>
		{% elif not fresh_question %}
			<table style="width:100%; padding-left:20px">
				<tr style="float:right">
					<div class="progress" style="height: 20px; float:right; width:20%;">
						<div class="progress-bar bg-success" role="progressbar" style="width:25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
					</div>
				</tr>
				<tr style="float:right">
					<strong style="float:right"><i class="bi-arrow-repeat"></i> Repeat Question </strong>
				</tr>
			</table>
		{% endif %}

		<div class="progress" style="height: 20px; float:right; width:20%;">
			<div class="progress-bar bg-success" role="progressbar" style="width:25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
		</div>

		<div class="row" id="prompt">
			{{ prompt }}
		</div>


        <div class="row" id="response_area">
			<form method="POST"
		 		action="{% if not preview_mode %}{{ post_url }}{% endif %}">
				{{ form.csrf_token }}
				{{ form.question_id }}
				{{ forms.checkbox_input(form.response) }}
				{{ form.no_answer(class_="btn btn-secondary btn-sm") }}
				{{ form.submit(class_="btn btn-primary btn-sm") }}
			</form>
		</div>
    </div>

	{% if preview_mode %}
		<script type="text/javascript">
			window.addEventListener("DOMContentLoaded", () => {
				submit_button = document.getElementById("submit");
				submit_button.disabled = true;

				no_answer_button = document.getElementById("no_answer");
				no_answer_button.disabled = true;
			});
		</script>
	{% endif %}
{% endblock %}
