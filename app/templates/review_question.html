{% extends "base.html" %}
{% block body %}
    <div class="container pt-3">
		<h4>Review Question</h4>
		<div class="container">
			<h5>Preview:</h5>
			<span class="container py-2">
				The question will appear to students as shown below.
			</span>

			<div class="container">
			<iframe
				id="preview-frame"
				title="Question Preview"
				src="{{ url_for('instructor.preview_question', question_id=question.id) }}"
				width="100%"
				onload="removeNavbar(this)"></iframe>
			</div>
		</div>

		<div class="container mt-2">
			<h5>Answer:</h5>
			<div class="container">
			{{ question.get_answer()|safe }}
			</div>
		</div>

        <div class="container">
            <h5>Availability:</h5>
            <div class="container pb-2">
                <span class="text-secondary">
                    <i class="bi-info-circle"></i>
                    Public questions are available to all users to add to
                    their own courses.
                </span>
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="publicQuestion" checked>
                    <label class="form-check-label" for="publicQuestion">Public</label>
                </div>


                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="enabledQuestion">
                    <label class="form-check-label" for="enabledQuestion">Enabled</label>
                </div>
            </div>
        </div>
    </div>

	<script type="text/javascript">
		// Hide the navbar inside the preview
		function removeNavbar(iframe) {
			iframe.height = iframe.contentWindow.document.body.scrollHeight;
			iframe.style.border = "thin solid #d3d3d3";
			const navbar = iframe.contentWindow.document.getElementById("navbar");
			console.log(navbar);
			navbar.style.display = "none";
		}
	</script>
{% endblock %}
